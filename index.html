<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>밤하늘 여행</title>
    <link rel="stylesheet" href="./gallery.css">
    <link rel="stylesheet" href="./header.css">
    <link rel="stylesheet" href="./footer.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/webfontworld/kopus@latest/KoPubDotum.css">
    <style>
        * {
            margin: 0;
            padding: 0;


        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            padding-top: 60px;

            background-image: radial-gradient(circle at 60% 150%, #016563, #055f5b, #074a62, #082e4e, #021126, #030A20);
            background-color: #031227;
            background-attachment: fixed;
        }





        .hero-section {
            position: static;
            top: 60px;
            height: calc(100vh - 60px);
            overflow: hidden;
            z-index: 1;
            display: inline-block;
            width: 100%;



        }

        #svgContent {
            position: inherit;
            border: solid 1px #d1ff2b;
        }

        .hero-text-overlay {
            position: fixed;
            text-align: center;
            z-index: 1;
            top: 35%;
            left: 60%;
            width: 400px;
            font-family: "KoPubDotum";

        }

        .hero-text {
            font-size: 4em;
            margin: 0;
            color: white;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
        }


        .main-content {
            position: relative;
            background-color: #f2f2f2;
            z-index: 2;
            padding: 50px 30px;
            max-width: 100%;
            height: auto;
            margin: 0 auto;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);

            border-top-left-radius: 40px 30px;
            border-top-right-radius: 40px 30px;

            margin-top: -30vh;
        }

        .main-content h2 {
            font-size: 2.5em;
            color: #007bff;
            text-align: center;
            margin-bottom: 40px;
        }

        .main-content p {
            margin-bottom: 20px;
            font-size: 1.1em;
            line-height: 1.8;
        }

        svg {
            position: fixed;
            width: 900px;
            height: 450px;


        }



        #mainImg ul {
            list-style: none;
            display: flex;
            justify-content: center;
            align-items: center;

        }

        #mainImg ul li {
            margin: 0 10px;

        }

        #mainImg ul li img {
            max-width: 100%;
            height: auto;
            display: block;

        }

        #todaysObservation {
            text-align: center;
            margin-top: 50px;

        }


        #cardSection {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 20px;
        }

        .card {
            background-color: rgb(255, 255, 255);
            padding: 20px;
            margin: 20px 10px;
            width: 400px;
            height: 650px;
            border-radius: 35px;
            box-shadow: 10px 12px 13px 0px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }

        .cardDescription {
            padding: 0 15px 15px;
            font-size: 1em;
            color: #585858;
            line-height: 1.5;
            overflow-wrap: break-word;
        }

        .cardTitle {
            font-size: 1.2em;
            font-weight: bold;
            margin: 5px 0;
        }

        .cardImg {
            width: 100%;
            height: 450px;
            overflow: hidden;
            border-radius: 25px;
        }

        .cardImg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        #gallery {
            border-radius: 8px;
        }


        .menuSection {
            padding: 20px;
            background-image: radial-gradient(circle at 60% 300%, #016563, #055f5b, #074a62, #082e4e, #021126, #030A20);
            background-color: #031227;
            width: 100%;
            height: 35vh;
                border-radius: 20px;
            color: #e0e0e0;
            font-family: 'Noto Sans KR', sans-serif;
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            align-items: center;

            margin: 0;
       
            box-sizing: border-box;
        }

        .capsule {
            width: 138px;
            background-color: #082032;
            backdrop-filter: blur(8px);
            border-radius: 80px;
            box-shadow: 0 0 12px rgba(2, 81, 80, 0.4);

            padding: 20px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
            cursor: pointer;
        }

        .capsule:hover {
            transform: translateY(-8px) scale(1.05);
            background-color: rgba(15, 70, 90, 0.45);
            border-color: rgba(1, 101, 99, 0.9);
        }

        .rec {
            width: 110px;
            height: 90px;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 18px;
            background-color: rgba(0, 0, 0, 0.15);
        }

        .rec img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .capsuleText {
            font-size: 1.05em;
            font-weight: 500;
            color: #cceeff;
            max-width: 130px;
            line-height: 1.35;
            text-shadow: 0 0 6px rgba(189, 242, 242, 0.6), 0 0 12px rgba(175, 238, 238, 0.4);
        }

        @media (max-width: 900px) {

            
            .main-content {
                padding: 30px 18px;
                margin-top: -15vh;
                height: auto;
            }
            .menuSection {
                list-style: none;
                display: flex;
                flex-wrap: wrap;
                justify-content: space-evenly;
                align-items: center;
                box-sizing: border-box;
                height: auto;

                


            }

            .capsule {
                margin: 10px;
                width: calc(150px / 5 * 3);
                height: calc(150px / 5 * 3);

                border-radius: 60px;
                position: relative;
            }

            .rec {
                width: calc(130px / 5 * 3);
                height: calc(100px / 5 * 3);
            }

            .capsuleText {
                font-size: .7em;
                max-width: 80px;
            }


            .topNav {
                position: absolute;
                background-color: white;
                padding: 15px 30px;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
                z-index: 100;
                display: flex;
                align-items: center;
                box-sizing: border-box;
                flex-direction: column;
                padding: 10px 20px;
            }

            .topNav h1 {
                position: static;
                margin: 0 auto 10px auto;
                text-align: center;
                width: 100%;
            }


            .topNav nav ul {
                position: static;
                left: auto;
                top: auto;
                transform: none;
                width: 100%;
                text-align: center;
            }



            .topNav nav ul li {
                margin: 0 5px;
                display: block;
            }

            .topNav nav ul li a {
                display: block;
                text-align: center;
                padding: 5px 10px;

            }

            .hero-text-overlay {
                position: fixed;
                top: 55%;
                left: 50%;
                transform: translateX(-50%);
                width: 90%;
                max-width: 400px;
                text-align: center;

            }

            .hero-text {
                font-size: 2em;
                position: static;
                width: auto;
                text-align: center;

            }


            svg {
                height: 600px;
            }

            #mainImg {
                width: 100%;
                height: 870px;


                display: block;
            }

            #mainImg ul {
                padding-top: 20px;
                list-style: none;
                display: block;


            }

            #mainImg ul li {
                margin: 0 10px;
                text-align: center;

            }

            #mainImg ul li img {

                display: inline-block;

            }

            .card {
                width: 100%;
                height: auto;
                margin: 15px auto;
                padding: 15px;
            }

            .cardImg {
                height: 250px;
            }


            .cardDescription {
                font-size: 0.9em;
                padding: 0 10px 10px;
            }

            #gallery h1 {
                text-align: center;
                margin: 60px 0 20px 0;
            }

            #galleryMainImage {
                padding: 0 24px 0 24px;
                width: 100%;
                height: auto;
                object-fit: contain;
                box-sizing: border-box;
            }

            #thumbnail ul img {
                width: 50px;
                height: 50px;

            }
        }




        .trail {
            fill: none;
            stroke: #00ffee;
            stroke-width: 2;
        }


        .star {
            fill: #70AD98;
            stroke: none;
        }
    </style>

</head>

<body>
    <header class="topNav">
        <h1><a href="./index.html"><img src="./img/밤하늘여행로고.png" alt="" 밤하늘여행로고></a></h1>
        <div id="nav">
            <nav>
                <ul>
                    <li><a href="./section1.html">오늘의 밤하늘</a></li>
                    <li><a href="./section2.html">행성과 함께</a></li>
                    <li><a href="./section3.html">딥스카이 탐험</a></li>
                    <li><a href="./section4.html">관측 길라잡이</a></li>
                    <li><a href="./section5.html">갤러리</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="hero-section">
        <div id="svgContent">
            <svg id="starSvg" viewBox="0 0 900 400">
                <circle class="star" id="star1" cx="150" cy="150" r="1.5" />
            </svg>
        </div>



        <div class="hero-text-overlay">
            <h2 class="hero-text">밤하늘 여행</h2>
        </div>
    </div>


    <main class="main-content">
        <section class="menuSection">
            <div class="capsule">
                <div class="rec">
                    <a href="./section1.html"><img src="./img/todnightsicon.png" alt=""></a>
                    
                </div>
                <div class="capsuleText">오늘의 밤하늘</div>
            </div>

            <div class="capsule">
                <div class="rec">
                    <a href="./section2.html"><img src="./img/moon투명.png" alt=""></a>
                    
                </div>
                <div class="capsuleText">행성과 함께</div>
            </div>

            <div class="capsule">
                <div class="rec">
                    <a href="section3.html"><img src="./img/장미성운2.jfif" alt=""></a>
                   
                </div>
                <div class="capsuleText">딥스카이 탐험</div>
            </div>

            <div class="capsule">
                <div class="rec">
                    <a href="section4.html"><img src="./img/fra400.png" alt=""></a>
                    
                </div>
                <div class="capsuleText">관측 길라잡이</div>
            </div>

            <div class="capsule">
                <div class="rec">
                    <a href="./section5.html"><img src="./img/galleryImage.jpg" alt=""></a>
                </div>
                <div class="capsuleText">갤러리</div>
            </div>

        </section>

        <article id="todaysObservation">
            <h1>추천 관측대상</h1>
            <div id="cardSection">
                <div class="card">
                    <div class="cardImg">
                        <img src="./img/m13.png" width="500" height="500">
                    </div>
                    <div class="cardTitle">허큘리스 대성단 m13</div>
                    <div class="cardDescription">
                        허큘리스자리에 있으며, 북반구에서 가장 크고 밝은 구상성단이다. 지구에서 25,000 광년 떨어져 있으며 170광년의 직경 내에 50만 개의 별들이 밀집되어 있다. 겉보기
                        등급이 5.8등급이므로 맨눈으로 볼 수 있다.
                    </div>
                </div>
                <div class="card">
                    <div class="cardImg">
                        <img src="./img/베일성운2.jfif" width="500" height="500">
                    </div>
                    <div class="cardTitle">서쪽 베일 성운 NGC 6960</div>
                    <div class="cardDescription">
                        백조자리에서 가장 유명하고 거대한 초신성 잔해 중 하나이다. 지구에서 약 1,470 광년 떨어져 있으며, 약 130 광년의 직경이다. 겉보기 등급이 7등급 미만이므로
                        맨눈으로 보기 어려우며, 망원경이나 쌍안경으로 관측해야 볼 수 있다.
                    </div>
                </div>
                <div class="card">
                    <div class="cardImg">
                        <img src="./img/고리성운.jfif" width="500" height="500">
                    </div>
                    <div class="cardTitle">고리 성운 m57</div>
                    <div class="cardDescription">
                        고리 성운은 거문고자리에 있으며, 지구에서 약 2,300 광년 떨어져 있다. 지금까지 2~30km/s의 속도로 가스를 주변으로 퍼트리고 있다. 4인치 정도의 망원경으로는
                        다른 별들과 대비되는 희미한 빛구름 형태의 고리모양을 볼 수 있다.
                    </div>
                </div>
            </div>

        </article>

        <section>
            <div id="gallery">
                <h1>이미지 갤러리</h1>
                <img id="galleryMainImage" src="./img/9.webp" alt="메인 이미지">
                <div id="thumbnail">
                    <img src="./img/left.png" id="move_left" alt="왼쪽 화살표">
                    <ul>
                        <li><img src="./img/장미성운.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/9.webp" alt="썸네일 1"></li>
                        <li><img src="./img/m27.jfif" alt="썸네일 2"></li>
                        <li><img src="./img/장미성운2.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/장미성운3.png" alt="썸네일 8"></li>
                        <li><img src="./img/버블성운1.jfif" alt="썸네일 3"></li>
                        <li><img src="./img/북아메리카성운.jfif" alt="썸네일 4"></li>
                        <li><img src="./img/영혼 성운.jfif" alt="썸네일 5"></li>
                        <li><img src="./img/베일성운.png" alt="썸네일 5"></li>
                        <li><img src="./img/베일성운2.jfif" alt="썸네일 5"></li>
                        <li><img src="./img/고리성운.jfif" alt="썸네일 5"></li>
                        <li><img src="./img/돌고래성운.jfif" alt="썸네일 6"></li>
                        <li><img src="./img/m13.png" alt="썸네일 7"></li>
                        <li><img src="./img/m104.png" alt="썸네일 8"></li>
                        <li><img src="./img/ngc7293.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/마귀할멈성운.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/장미성운4.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/코끼리성운.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/팩맨성운.jfif" alt="썸네일 8"></li>
                        <li><img src="./img/하트성운.jfif" alt="썸네일 8"></li>

                    </ul>
                    <img src="./img/right.png" id="move_right" alt="오른쪽 화살표">
                </div>
            </div>

        </section>


        <footer>
            <article id="address">
                <ul id="footer_menu">
                    <li>개인정보 취급 방침 | 이용안내 | 이메일 무단 수집 거부</li>
                    <li>상호 : 밤하늘 여행 | 대표 : 최준호 | 등록번호 : 123-45-67890</li>
                </ul>
                <ul id="company_info">
                    <li>밤하늘 여행 유한회사</li>
                    <li>대표이사: 최준호</li>
                    <li>주소: 태양계 지구 위성 A23-s521</li>
                    <li>이미지 출처: <a
                            href="https://github.com/gammapasta/gammapasta.github.io/blob/main/image_source.txt">link</a>
                    </li>
                    <li id="copyright">
                        <p>Copyright © <span id="currentYear"></span> gammapasta. Licensed under the <a
                                href="https://opensource.org/licenses/MIT" target="_blank" rel="noopener noreferrer">MIT
                                License</a>.</p>
                    </li>
                    <li></li>
                </ul>
            </article>
            <article id="link">
                <h3>고객센터 159-9912-9-3332</h3>
                <select>
                    <option>네이버</option>
                    <option>구글</option>
                </select>
                <div id="icons">
                    <img src="./img/facebook.png">
                    <img src="./img/insta.png">
                    <img src="./img/t.png">
                </div>
            </article>
        </footer>
        <div class="clear"></div>

    </main>


</body>

<script>

    const heroImages = document.querySelectorAll('.hero-image');
    const heroTexts = document.querySelectorAll('.hero-text');
    const heroSection = document.querySelector('.hero-section');
    const mainContent = document.querySelector('.main-content');
    const headerHeight = document.querySelector('.topNav').offsetHeight;
    const overlapAmount = heroSection.offsetHeight * 0.3;
    const centerX = 150;
    const centerY = 150;

    const svgContainer = document.getElementById('starSvg');
    const circles = [];
    const radiusList = [];
    const circumferenceList = [];
    const elementId = [];
    const starList = [];

    let starNumber = 0;
    heroSection.style.top = `${headerHeight}px`;
    heroSection.style.height = `calc(120vh - ${headerHeight}px)`;
    mainContent.style.marginTop = `-${overlapAmount}px`;





    for (let r = 10; r <= 900; r += 4) {
        let currentCircumference = 2 * Math.PI * r;
        let startAngle = 0;
        const trailSize = Math.random() * 2.2 + .3;
        //박스 내부에 만들기
        if (r < 220) {
            angle = Math.random() * 360;

        } else if (r < 350) {
            angle = 270 + Math.random() * 220;
        }
        else {
            angle = 290 + Math.random() * 110;

        }
        startAngle = angle;
        let rotateTransform = `rotate(${startAngle} ${centerX} ${centerY})`;





        let starLightX = centerX + r * Math.cos(startAngle * (Math.PI / 180));
        let starLightY = centerY + r * Math.sin(startAngle * (Math.PI / 180));

        radiusList.push(r);
        circumferenceList.push(currentCircumference);

        starNumber += 1;

        const circleId = `trail${starNumber}`;
        const starId = `star${starNumber}`;



        const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        circle.setAttribute("class", "trail");
        circle.setAttribute("id", circleId);
        circle.setAttribute("cx", centerX);
        circle.setAttribute("cy", centerY);
        circle.setAttribute("r", r);
        circle.setAttribute("transform", rotateTransform);
        svgContainer.appendChild(circle);

        const colors = ['#E2FFFA', '#4C8385', '#43757E', '#0A4553', '#477C85', '#C1E9EC', '#184151', '#98C9D1', '#386671'];
        const trailColor = colors[Math.floor(Math.random() * colors.length)];

        circle.style.strokeDasharray = currentCircumference; //원 길이
        circle.style.strokeDashoffset = currentCircumference; //안보이게 하는거
        circle.style.stroke = `${trailColor}`;
        circle.style.strokeWidth = trailSize;
        circle.style.zIndex = 1;
        circles.push(circle);

        const star = document.createElementNS("http://www.w3.org/2000/svg", "circle")
        star.setAttribute("class", "star");
        star.setAttribute("id", starId);
        star.setAttribute("cx", starLightX)
        star.setAttribute("cy", starLightY)
        let starSize = 1
        if (trailSize < 1) { starSize = 0.2 }
        star.setAttribute("r", starSize)
        star.style.zIndex = 1;
        star.style.fill = `${trailColor}`;

        //별 반짝임
        const animate = document.createElementNS("http://www.w3.org/2000/svg", "animate");
        animate.setAttribute("attributeName", "opacity");
        let randomBlinking = Math.random();
        if (randomBlinking > 0.7) {
            randomBlinking = 0.7;
        }
        animate.setAttribute("values", `1;${randomBlinking};1`);
        animate.setAttribute("dur", "0.5s");
        animate.setAttribute("repeatCount", "indefinite");

        star.appendChild(animate);
        svgContainer.appendChild(star)

    }
    console.log("a", radiusList, circumferenceList, elementId)

    window.addEventListener("scroll", () => {
        const scrollTop = window.scrollY;
        const scrollHeight = document.body.scrollHeight - window.innerHeight; //문서 전체 높이 - 현재 뷰포트 높이
        let t = scrollTop / scrollHeight / 3; //스크롤 빠르게 내려도 별은 천천히 보이게
        const tMax = 0.07

        if (t > tMax) t = tMax; // t가 0.2를 넘으면 아무것도 하지 않음


        circles.forEach((currentCircleDomObject, elementIndex) => {
            const currentCircumference = circumferenceList[elementIndex];
            const offset = currentCircumference * (1 - t);
            currentCircleDomObject.style.strokeDashoffset = offset;
        })

    });

</script>
<script src="./gallery.js"></script>

</html>